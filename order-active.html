<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>–ü–æ–µ–∑–¥–∫–∞ –≤ –ø—É—Ç–∏ ‚Äî RideNow</title>
  <style>
    :root{
      /* —Ç–µ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —á—Ç–æ –∏ –≤ –∫–æ—à–µ–ª—å–∫–µ */
      --ink:#eaf2ff; --muted:#a6b5cc; --stroke:rgba(255,255,255,.18);
      --glass-1:rgba(14,21,26,.55); --glass-2:rgba(14,21,26,.35);
      --g1:#ffb668; --g2:#9de9d7; --danger:#ff6b6b;
    }
    *{box-sizing:border-box}
    html,body{height:100%; margin:0}
    body{
      color:var(--ink);
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:
        linear-gradient(180deg, rgba(0,0,0,.65), rgba(0,0,0,.55) 35%, rgba(0,0,0,.45) 60%, rgba(0,0,0,.55)),
        url("image.png") center/cover no-repeat fixed;
      -webkit-text-size-adjust:100%;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
      padding:16px;
      padding-bottom:calc(16px + env(safe-area-inset-bottom));
    }

    /* –æ—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ (–∫–∞–∫ –≤ –∫–æ—à–µ–ª—å–∫–µ) */
    .card{
      width:min(760px,96vw);
      margin:0 auto;
      border-radius:22px;
      border:1px solid var(--stroke);
      background:linear-gradient(180deg,var(--glass-1),var(--glass-2));
      box-shadow:0 30px 80px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.22);
      backdrop-filter: blur(16px) saturate(140%);
    }
    .inner{ padding:16px 16px 22px }

    .brand{ font-weight:900; letter-spacing:.2px; display:flex; gap:8px; align-items:center; opacity:.95}
    .brand .dot{width:8px;height:8px;border-radius:50%;background:#58e0ff}
    h1{ margin:10px 0 14px; font-size:26px; letter-spacing:.2px }

    .block{
      margin:12px 0; padding:12px; border-radius:16px;
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border:1px solid var(--stroke);
    }

    .route-pill{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:12px; border-radius:14px; border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06));
      box-shadow: inset 0 1px 0 rgba(255,255,255,.25);
    }
    .route-main{ font-weight:900; font-size:18px }
    .sub{ color:var(--muted); font-size:12px }
    .badge{ font-weight:900; padding:6px 12px; border-radius:12px; color:#0b0f12;
      background:linear-gradient(90deg,#c8ffb3,#8ff0cf) }

    .driver{
      display:grid; grid-template-columns:auto 1fr; gap:12px; align-items:center;
      padding:12px; border-radius:14px; border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06));
    }
    .ava{width:48px;height:48px;border-radius:50%;overflow:hidden;background:#777}
    .ava img{width:100%;height:100%;object-fit:cover}
    .d-name{display:flex;align-items:center;gap:8px;font-weight:900}
    .ver{font-size:12px;padding:2px 6px;border-radius:8px;color:#0b0f12;
      background:linear-gradient(90deg,var(--g1),var(--g2));font-weight:800}
    .car{color:var(--muted);font-size:13px}
    .callrow{display:flex;gap:8px;margin-top:8px}

    .btn{
      height:40px; padding:0 14px; border-radius:12px; cursor:pointer;
      border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      color:var(--ink); font-weight:800;
    }
    .btn.primary{ border:0; color:#0b0f12; background:linear-gradient(90deg,var(--g1),var(--g2)) }
    .btn.danger{ border-color:rgba(255,107,107,.35); color:#ffd6d6 }

    .title{ font-weight:800; margin-bottom:6px }
    .map{
      height:200px; border-radius:14px; margin-top:10px; overflow:hidden; border:1px solid var(--stroke);
      display:grid; place-items:center; color:var(--muted);
      background:radial-gradient(60% 80% at 30% 10%, rgba(183,167,255,.12), transparent 60%),
                 radial-gradient(50% 80% at 80% 90%, rgba(139,214,201,.12), transparent 60%), #0f141a;
    }.chips{display:flex;gap:8px;flex-wrap:wrap}
    .chip{padding:6px 10px;border-radius:999px;border:1px solid var(--stroke);
      background:linear-gradient(180deg,rgba(255,255,255,.14),rgba(255,255,255,.08));font-size:14px}
    .faces{display:flex;gap:8px}
    .face{width:36px;height:36px;border-radius:50%;overflow:hidden;border:2px solid rgba(255,255,255,.25);background:#222}
    .face img{width:100%;height:100%;object-fit:cover}
    .note{color:var(--muted);font-size:13px}
    .row-split{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .actions-bottom{display:flex;gap:10px}

    /* –º–æ–¥–∞–ª–∫–∏ */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:flex-end;justify-content:center;
      padding:16px; z-index:999}
    .modal.open{display:flex}
    .sheet{
      width:min(760px,96vw); border-radius:16px; border:1px solid var(--stroke);
      background:linear-gradient(180deg,rgba(20,24,32,.92),rgba(20,24,32,.90));
      box-shadow:0 -30px 80px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.2);
      backdrop-filter:blur(16px) saturate(160%); padding:12px;
      /* —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∏ —à—Ç–æ—Ä–æ–∫ –Ω–µ —É—Ö–æ–¥–∏–ª–∏ –ø–æ–¥ –Ω–∞–≤–∏–≥–∞—Ü–∏—é */
      margin-bottom: 84px;
    }
    .drag{width:46px;height:5px;border-radius:999px;background:var(--stroke);margin:4px auto 8px;opacity:.6}
    .sheet .row{display:flex;gap:10px}
    .sheet .btn{flex:1}
    .chat{height:40vh;overflow:auto;padding:8px;border-radius:12px;border:1px solid var(--stroke);
      background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03))}
    .bubble{max-width:78%;padding:8px 10px;border-radius:12px;margin:6px 0;
      background:linear-gradient(180deg,rgba(255,255,255,.13),rgba(255,255,255,.07))}
    .bubble.me{margin-left:auto;background:linear-gradient(180deg,rgba(183,167,255,.32),rgba(139,214,201,.24))}
    .composer{display:flex;gap:8px;margin-top:10px}
    .composer input{flex:1;height:40px;border-radius:10px;border:1px solid var(--stroke);
      background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.05));color:var(--ink);padding:0 10px}

    /* ===== –ù–ò–ñ–ù–Ø–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø (–µ–¥–∏–Ω–∞—è) ===== */
    .bottom-shell{position:fixed;left:0;right:0;bottom:0;z-index:1000;
      padding:10px 12px calc(10px + env(safe-area-inset-bottom))}
    .bottom-bar{
      display:flex;gap:10px;align-items:center;justify-content:space-between;padding:10px;
      max-width:760px;margin:0 auto;border-radius:18px;
      background:linear-gradient(180deg,rgba(12,12,14,.78),rgba(12,12,14,.62));
      border:1px solid rgba(255,255,255,.2);
      box-shadow:0 18px 44px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.28);
      backdrop-filter: blur(16px) saturate(160%);
    }
    .bn{flex:1;display:grid;justify-items:center;text-decoration:none;color:#e8eef9}
    .bn .ico{font-size:18px;margin-bottom:4px}
    .bn .txt{font-size:12px;color:#cbd4e6;font-weight:800}
    .bn.active{background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.06));border-radius:12px}
    .bn.active .txt{color:#ffd59b}
  </style>
</head>
<body>

  <main class="card">
    <div class="inner">
      <div class="brand"><span class="dot"></span><span>RideNow</span></div>
      <h1>–ü–æ–µ–∑–¥–∫–∞ –≤ –ø—É—Ç–∏</h1>

      <div class="block route-pill">
        <div>
          <div class="route-main" id="routeMain">–ö–∏–µ–≤ ‚Üí –û–¥–µ—Å—Å–∞</div>
          <div class="sub">—Å–µ–≥–æ–¥–Ω—è, –≤—ã–µ–∑–¥ <span id="leaveTime">08:30</span> ‚Ä¢ –ø—Ä–∏–±—ã—Ç–∏–µ ~ <span id="arriveTime">13:15</span></div>
        </div>
        <div class="badge" id="etaBadge">ETA 40 –º–∏–Ω</div>
      </div>

      <div class="block driver">
        <div class="ava"><img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?w=200" alt=""></div>
        <div>
          <div class="d-name">–ü–∞–≤–µ–ª <span class="ver">–ø—Ä–æ–≤–µ—Ä–µ–Ω</span></div>
          <div class="car">Toyota Camry ‚Ä¢ AA1234BB ‚Ä¢ ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
          <div class="callrow">
            <button class="btn" id="callBtn">üìû –ó–≤–æ–Ω–æ–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</button>
            <button class="btn" id="chatBtn">üí¨ –ù–∞–ø–∏—Å–∞—Ç—å</button><button class="btn danger" id="cancelBtn">–û—Ç–º–µ–Ω–∏—Ç—å</button>
          </div>
        </div>
      </div>

      <div class="block">
        <div class="title">–°—Ç–∞—Ç—É—Å</div>
        <div style="display:flex;gap:16px;align-items:center;flex-wrap:wrap">
          <div>‚Ä¢ –ü–æ—Å–∞–¥–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞</div>
          <div>‚Ä¢ –í –ø—É—Ç–∏ ‚Äî –æ—Å—Ç–∞–ª–æ—Å—å <b id="leftKm">141 –∫–º</b></div>
          <div>‚Ä¢ –í—ã—Å–∞–¥–∫–∞ —É –∂/–¥ –≤–æ–∫–∑–∞–ª–∞ (—Ç–æ—á–∫–∞ B)</div>
        </div>
        <div class="map" style="margin-top:12px">–∫–∞—Ä—Ç–∞ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</div>
        <div class="sub" style="margin-top:8px">–°–ª–µ–¥—É—é—â–∏–π –ø–æ–≤–æ—Ä–æ—Ç —á–µ—Ä–µ–∑ <b id="nextTurn">1.2 –∫–º</b></div>
      </div>

      <div class="block">
        <div class="title">–£–¥–æ–±—Å—Ç–≤–∞</div>
        <div class="chips">
          <div class="chip">‚ùÑÔ∏è –ö–ª–∏–º–∞—Ç</div><div class="chip">üéß –ú—É–∑—ã–∫–∞</div>
          <div class="chip">üí® –≠–ª–µ–∫—Ç—Ä–æ–Ω–∫–∏</div><div class="chip">üßç‚Äç‚ôÄÔ∏èüßç‚Äç‚ôÄÔ∏è –¢–æ–ª—å–∫–æ 2 —Å–∑–∞–¥–∏</div>
        </div>
      </div>

      <div class="block">
        <div class="title">–ü–∞—Å—Å–∞–∂–∏—Ä—ã</div>
        <div class="faces">
          <div class="face"><img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=200"></div>
          <div class="face"><img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=200"></div>
          <div class="face" style="display:grid;place-items:center;color:#8aa;font-size:12px">–æ–∂–∏–¥.</div>
        </div>
      </div>

      <div class="block row-split">
        <div class="note">–û–±–Ω–æ–≤–ª–µ–Ω–æ <span id="pingAgo">5 —Å–µ–∫</span> –Ω–∞–∑–∞–¥</div>
        <div class="actions-bottom">
          <button class="btn" id="openMapBtn">üìç –û—Ç–∫—Ä—ã—Ç—å –≤ –∫–∞—Ä—Ç–µ</button>
          <button class="btn primary" id="whereBtn">–ì–¥–µ –≤–æ–¥–∏—Ç–µ–ª—å?</button>
        </div>
      </div>
    </div>
  </main>

  <!-- –ù–ò–ñ–ù–Ø–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø (–µ–¥–∏–Ω–∞—è) -->
  <nav class="bottom-shell" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
    <div class="bottom-bar">
      <a class="bn" href="profile-passenger.html" title="–ü—Ä–æ—Ñ–∏–ª—å">
        <div class="ico">üë§</div><div class="txt">–ü—Ä–æ—Ñ–∏–ª—å</div>
      </a>
      <a class="bn" href="wallet.html" title="–ö–æ—à–µ–ª—ë–∫">
        <div class="ico">üí≥</div><div class="txt">–ö–æ—à–µ–ª—ë–∫</div>
      </a>
      <a class="bn active" href="trip.html?active=1" title="–ê–∫—Ç—É–∞–ª—å–Ω–∞—è">
        <div class="ico">üöó</div><div class="txt">–ê–∫—Ç—É–∞–ª—å–Ω–∞—è</div>
      </a>
      <a class="bn" href="main-passenger.html" title="–ü–æ–∏—Å–∫">
        <div class="ico">üîç</div><div class="txt">–ü–æ–∏—Å–∫</div>
      </a>
    </div>
  </nav>

  <!-- –®—Ç–æ—Ä–∫–∞ ¬´–ì–¥–µ –≤–æ–¥–∏—Ç–µ–ª—å?¬ª -->
  <div class="modal" id="whereSheet">
    <div class="sheet">
      <div class="drag"></div><h3>–í–æ–¥–∏—Ç–µ–ª—å –≤ –ø—É—Ç–∏</h3>
      <div class="sub" id="miniMeta">ETA ~ 40 –º–∏–Ω ‚Ä¢ —Å–∫–æ—Ä–æ—Å—Ç—å 68 –∫–º/—á ‚Ä¢ –ø–∏–Ω–≥ 3 —Å–µ–∫</div>
      <div class="row" style="margin-top:10px">
        <button class="btn" id="sheetChat">–ù–∞–ø–∏—Å–∞—Ç—å</button>
        <button class="btn" id="sheetCall">–ü–æ–∑–≤–æ–Ω–∏—Ç—å</button>
        <button class="btn" onclick="closeSheet()">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –∑–≤–æ–Ω–∫–∞ -->
  <div class="modal" id="callModal">
    <div class="sheet">
      <div class="drag"></div>
      <h3>–ó–≤–æ–Ω–æ–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</h3>
      <div class="sub">–ü–∞–≤–µ–ª ‚Ä¢ Toyota Camry</div>
      <div class="row" style="margin-top:10px">
        <button class="btn" id="muteBtn">–ú–∏–∫—Ä–æ—Ñ–æ–Ω –≤–∫–ª.</button>
        <button class="btn danger" id="endCall">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ —á–∞—Ç–∞ -->
  <div class="modal" id="chatModal">
    <div class="sheet">
      <div class="drag"></div>
      <h3>–ß–∞—Ç —Å –≤–æ–¥–∏—Ç–µ–ª–µ–º</h3>
      <div class="chat" id="thread">
        <div class="bubble">–ï–¥–µ–º –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –±–µ–∑ –ø—Ä–æ–±–æ–∫.</div>
        <div class="bubble me">–û–∫, —Å–ø–∞—Å–∏–±–æ!</div>
      </div>
      <div class="composer">
        <input id="msg" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ‚Ä¶">
        <button class="btn" id="sendMsg">‚û§</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –æ—Ç–º–µ–Ω—ã -->
  <div class="modal" id="cancelModal">
    <div class="sheet">
      <div class="drag"></div>
      <h3>–û—Ç–º–µ–Ω–∏—Ç—å –ø–æ–µ–∑–¥–∫—É?</h3>
      <div class="sub">–í–æ–∑–º–æ–∂–Ω–∞ –∫–æ–º–∏—Å—Å–∏—è –∑–∞ –æ—Ç–º–µ–Ω—É, –µ—Å–ª–∏ –æ—Å—Ç–∞–ª–æ—Å—å &lt; 30 –º–∏–Ω—É—Ç.</div><div class="row" style="margin-top:10px">
        <button class="btn" id="stayBtn">–û—Å—Ç–∞—Ç—å—Å—è</button>
        <button class="btn danger" id="confirmCancel">–û—Ç–º–µ–Ω–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <script>
    // –¥–µ–º–æ-–ª–æ–≥–∏–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
    let kmLeft = 141, ping = 3, eta = 40, speed = 68, turn = 1.2;
    const leftKmEl = document.getElementById('leftKm');
    const etaBadge = document.getElementById('etaBadge');
    const pingAgo = document.getElementById('pingAgo');
    const miniMeta = document.getElementById('miniMeta');
    const nextTurn = document.getElementById('nextTurn');

    setInterval(()=>{
      kmLeft = Math.max(0, kmLeft - (0.4 + Math.random()*1.3));
      eta = Math.max(0, eta - 1);
      speed = 60 + Math.round(Math.random()*20);
      ping = Math.round(1 + Math.random()*6);
      turn = Math.max(0.1, turn - (Math.random()*0.4));
      leftKmEl.textContent = `${Math.round(kmLeft)} –∫–º`;
      etaBadge.textContent =` ETA ${eta} –º–∏–Ω`;
      pingAgo.textContent = `${ping} —Å–µ–∫`;
      nextTurn.textContent = `${turn.toFixed(1)} –∫–º`;
      miniMeta.textContent = `ETA ~ ${eta} –º–∏–Ω ‚Ä¢ —Å–∫–æ—Ä–æ—Å—Ç—å ${speed} –∫–º/—á ‚Ä¢ –ø–∏–Ω–≥ ${ping} —Å–µ–∫`;
    }, 1000);

    // ¬´–û—Ç–∫—Ä—ã—Ç—å –≤ –∫–∞—Ä—Ç–µ¬ª
    document.getElementById('openMapBtn').onclick = ()=>{
      const from = encodeURIComponent('–ö–∏–µ–≤, –º. –õ—ã–±–µ–¥—Å–∫–∞—è, –≤—ã—Ö–æ–¥ ‚Ññ2');
      const to = encodeURIComponent('–û–¥–µ—Å—Å–∞, –∂/–¥ –≤–æ–∫–∑–∞–ª');
      location.href = `https://www.google.com/maps/dir/?api=1&origin=${from}&destination=${to}`;
    };

    // —à—Ç–æ—Ä–∫–∞ ¬´–ì–¥–µ –≤–æ–¥–∏—Ç–µ–ª—å?¬ª
    const whereSheet = document.getElementById('whereSheet');
    document.getElementById('whereBtn').onclick = ()=> whereSheet.classList.add('open');
    function closeSheet(){ whereSheet.classList.remove('open'); }
    whereSheet.addEventListener('click', e=>{ if(e.target===whereSheet) closeSheet(); });

    // –∑–≤–æ–Ω–æ–∫ (—ç–º—É–ª—è—Ü–∏—è)
    const callModal = document.getElementById('callModal');
    document.getElementById('callBtn').onclick = ()=> callModal.classList.add('open');
    document.getElementById('sheetCall').onclick = ()=> callModal.classList.add('open');
    document.getElementById('endCall').onclick = ()=> callModal.classList.remove('open');
    const muteBtn = document.getElementById('muteBtn'); let muted=false;
    muteBtn.onclick = ()=>{ muted=!muted; muteBtn.textContent = muted?'–ú–∏–∫—Ä–æ—Ñ–æ–Ω –≤—ã–∫–ª.':'–ú–∏–∫—Ä–æ—Ñ–æ–Ω –≤–∫–ª.' };

    // —á–∞—Ç
    const chatModal = document.getElementById('chatModal');
    const thread = document.getElementById('thread');
    const input = document.getElementById('msg');
    document.getElementById('chatBtn').onclick = ()=> chatModal.classList.add('open');
    document.getElementById('sheetChat').onclick = ()=> chatModal.classList.add('open');
    document.getElementById('sendMsg').onclick = ()=>{
      const v=input.value.trim(); if(!v) return;
      thread.insertAdjacentHTML('beforeend', `<div class="bubble me">${v}</div>`);
      input.value=''; thread.scrollTop=thread.scrollHeight;
    };
    chatModal.addEventListener('click', e=>{ if(e.target===chatModal) chatModal.classList.remove('open'); });

    // –æ—Ç–º–µ–Ω–∞
    const cancelModal = document.getElementById('cancelModal');
    document.getElementById('cancelBtn').onclick = ()=> cancelModal.classList.add('open');
    document.getElementById('stayBtn').onclick = ()=> cancelModal.classList.remove('open');
    cancelModal.addEventListener('click', e=>{ if(e.target===cancelModal) cancelModal.classList.remove('open'); });
    document.getElementById('confirmCancel').onclick = ()=>{ cancelModal.classList.remove('open'); alert('–ü–æ–µ–∑–¥–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞ (–¥–µ–º–æ).'); };
  </script>
</body>
</html>