<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>–û–ø–ª–∞—Ç–∞ ‚Äî RideNow</title>
  <style>
    :root{
      --ink:#eaf2ff; --muted:#a6b5cc; --stroke:rgba(255,255,255,.18);
      --glass-1:rgba(14,21,26,.55); --glass-2:rgba(14,21,26,.35);
      --g1:#ffb668; --g2:#9de9d7;
      --gutter:16px; --nav-h:92px; --gap-bottom:12px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      color:var(--ink);
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:
        linear-gradient(180deg, rgba(0,0,0,.65), rgba(0,0,0,.55) 35%, rgba(0,0,0,.45) 60%, rgba(0,0,0,.55)),
        url("image.png") center/cover no-repeat fixed;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
      padding:var(--gutter);
      padding-bottom:calc(var(--gutter) + env(safe-area-inset-bottom));
      display:flex; flex-direction:column; overflow:hidden;
    }

    main.card{
      width:min(760px, calc(100vw - var(--gutter)*2));
      margin:0 auto;
      border-radius:22px; border:1px solid var(--stroke);
      background:linear-gradient(180deg,var(--glass-1),var(--glass-2));
      box-shadow:0 30px 80px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.22);
      backdrop-filter: blur(16px) saturate(140%);
      max-height:calc(100dvh - var(--nav-h) - var(--gap-bottom) - env(safe-area-inset-bottom));
      overflow:auto; -webkit-overflow-scrolling:touch;
    }
    .inner{ padding:16px 16px 18px }

    .brand{font-weight:900;display:flex;gap:8px;align-items:center;opacity:.95}
    .brand .dot{width:8px;height:8px;border-radius:50%;background:#58e0ff}
    h1{margin:8px 0 12px;font-size:26px;letter-spacing:.2px}

    .block{
      padding:12px; border-radius:16px;
      border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      margin-top:12px;
    }
    .route{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .badge{font-weight:900;color:#072e12;background:linear-gradient(90deg,#b8ff9c,#7dffcf);padding:6px 10px;border-radius:12px}

    .row{display:flex;gap:12px;flex-wrap:wrap;color:var(--muted);font-weight:700}
    .row span{display:flex;align-items:center;gap:6px}

    .pay-sum{font-size:20px;font-weight:900;margin:2px 0 0}
    .note{color:#cfe3ff; font-size:14px}

    .methods{display:grid;gap:10px;margin-top:8px}
    .btn{
      height:52px;border-radius:14px;border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      color:var(--ink);font-weight:900;font-size:16px;cursor:pointer;
      display:grid;place-items:center;
    }
    .btn.primary{
      border:0;color:#0b0f12;
      background:linear-gradient(90deg,var(--g1),var(--g2));
      box-shadow:0 10px 24px rgba(183,167,255,.25);
    }

    .bottom-shell{position:fixed;left:0;right:0;bottom:0;z-index:1001;
      padding:0 env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left)}
    .bottom-bar{display:flex;justify-content:space-around;background:var(--glass-2);
      border-radius:20px 20px 0 0;padding:8px;backdrop-filter:blur(12px)}
    .bn-tab{flex:1;text-align:center;color:var(--ink);font-size:12px;text-decoration:none;padding:6px 0}
    .bn-tab .ico{font-size:18px;display:block}
    .bn-tab.active{color:var(--g1)}

    /* success sheet ‚Äî –∑–∞–∫—Ä—ã—Ç–∞—è –Ω–µ –ª–æ–≤–∏—Ç –∫–ª–∏–∫–∏ */
    .sheet{
      position:fixed;left:0;right:0;bottom:-100%;z-index:1002;
      margin:auto; width:min(760px,96vw);
      border:1px solid var(--stroke); border-radius:16px 16px 0 0;
      background:linear-gradient(180deg, rgba(20,24,32,.90), rgba(20,24,32,.86));
      box-shadow:0 -30px 80px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.22);
      backdrop-filter: blur(16px) saturate(160%);
      transition:bottom .22s ease, transform .22s ease;
      transform:translateY(12px);
      padding-bottom:calc(82px + env(safe-area-inset-bottom));
      pointer-events:none;             /* ‚Üê –¥–æ–±–∞–≤–ª–µ–Ω–æ */
    }
    .sheet.open{bottom:0;transform:translateY(0);pointer-events:auto} /* ‚Üê –¥–æ–±–∞–≤–ª–µ–Ω–æ */
    .sheet .grip{width:48px;height:5px;border-radius:999px;background:rgba(255,255,255,.25);margin:8px auto}
    .sheet .body{padding:8px 12px 14px;text-align:center}
    .big{font-size:22px;font-weight:900;margin:6px 0 2px}
    .ok{font-size:44px;line-height:1}
  </style>
</head>
<body>
  <main class="card" id="card">
    <div class="inner">
      <div class="brand"><span class="dot"></span><span>RideNow</span></div>
      <h1>–û–ø–ª–∞—Ç–∞</h1>

      <!-- –†–µ–∑—é–º–µ –ø–æ–µ–∑–¥–∫–∏ -->
      <section class="block">
        <div class="route">
          <div style="font-weight:900;font-size:20px"><span id="from">‚Äî</span> ‚Üí <span id="to">‚Äî</span></div>
          <div class="badge" id="price">550 ‚Ç¥</div>
        </div>
        <div class="row" style="margin-top:6px">
          <span>üí≥ –û–ø–ª–∞—Ç–∞ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–±–æ—Ä–∞</span>
          <span>üíµ –í–æ–¥–∏—Ç–µ–ª—é ‚Äî –Ω–∞–ª–∏—á–Ω—ã–º–∏</span>
        </div>
      </section>

      <!-- –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–±–æ—Ä -->
      <section class="block">
        <div class="pay-sum">–ö –æ–ø–ª–∞—Ç–µ: <span id="fee">25</span> ‚Ç¥</div>
        <div class="note">–û–Ω–ª–∞–π–Ω —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–±–æ—Ä ‚Äî –Ω–∞ —É–ª—É—á—à–µ–Ω–∏–µ RideNow. –û—Å—Ç–∞–ª—å–Ω–æ–µ –≤—ã –ø–ª–∞—Ç–∏—Ç–µ –≤–æ–¥–∏—Ç–µ–ª—é –Ω–∞–ª–∏—á–Ω—ã–º–∏.</div>

        <div class="methods">
          <button class="btn primary" id="payBtn" type="button">–û–ø–ª–∞—Ç–∏—Ç—å 25 ‚Ç¥ </button>
          <button class="btn" id="backBtn" type="button">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–µ–∑–¥–∫–µ</button>
        </div>
      </section>
    </div>
  </main>

  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
  <nav class="bottom-shell" id="nav" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
    <div class="bottom-bar">
      <a class="bn-tab" href="profile-passenger.html"><div class="ico">üë§</div>–ü—Ä–æ—Ñ–∏–ª—å</a>
      <a class="bn-tab" href="wallet.html"><div class="ico">üí≥</div>–ö–æ—à–µ–ª—ë–∫</a>
      <a class="bn-tab active" href="trip.html"><div class="ico">üöó</div>–ê–∫—Ç—É–∞–ª—å–Ω–∞—è</a>
      <a class="bn-tab" href="main-passenger.html"><div class="ico">üîç</div>–ü–æ–∏—Å–∫</a>
    </div>
  </nav>

  <!-- –£—Å–ø–µ—Ö -->
  <div class="sheet" id="success">
    <div class="grip"></div>
    <div class="body">
      <div class="ok">‚úÖ</div>
      <div class="big">–û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞</div>
      <div class="note">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.</div>
      <div style="margin-top:12px">
        <button class="btn" id="toTrip" type="button">–û—Ç–∫—Ä—ã—Ç—å –ø–æ–µ–∑–¥–∫—É</button>
      </div>
    </div>
  </div>

  <script>
    // –≤—ã—Å–æ—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -> CSS var(--nav-h)
    (function setNavHeight(){
      const nav = document.getElementById('nav');
      const apply = ()=> document.documentElement.style.setProperty('--nav-h', (nav?.offsetHeight||92) + 'px');
      apply(); addEventListener('resize', apply);
    })();

    document.addEventListener('DOMContentLoaded', () => {
      const q = new URLSearchParams(location.search);
      const fee   = Number(q.get('fee') || 25);
      const from  = q.get('from') || '–ö–∏–µ–≤';
      const to    = q.get('to')   || '–û–¥–µ—Å—Å–∞';
      const tripId = q.get('tripId') || 'kyiv-odesa';

      // –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –≤ UI
      const $ = id => document.getElementById(id);
      $('fee').textContent  = fee;
      $('fee2').textContent = fee;
      $('from').textContent = from;
      $('to').textContent   = to;

      // –æ–ø–ª–∞—Ç–∞ (–¥–µ–º–æ-—Ä–µ–¥–∏—Ä–µ–∫—Ç –≤ ¬´pay-passenger¬ª)
      $('payBtn')?.addEventListener('click', ()=>{
        location.href = `pay-passenger.html?tripId=${encodeURIComponent(tripId)}&from=${encodeURIComponent(from)}&to=${encodeURIComponent(to)}`;
      });

      // –≤–µ—Ä–Ω—É—Ç—å—Å—è –±–µ–∑ –æ–ø–ª–∞—Ç—ã
      $('backBtn')?.addEventListener('click', ()=>{
        history.length > 1 ? history.back() : location.href = 'trip.html';
      });

      $('toTrip')?.addEventListener('click', ()=>{
        location.href = `trip.html?paid=1&tripId=${encodeURIComponent(tripId)}`;
      });
    });

    function openSuccess(){ document.getElementById('success').classList.add('open'); }
  </script>
</body>
</html>
